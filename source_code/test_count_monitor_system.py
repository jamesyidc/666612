#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
è®¡æ¬¡ç›‘æ§ç³»ç»ŸåŠŸèƒ½æµ‹è¯•å’Œè¯´æ˜
"""

print("=" * 100)
print("ğŸ‰ è®¡æ¬¡ç›‘æ§ç³»ç»Ÿå·²å®Œæˆ")
print("=" * 100)

print("\nğŸ“‹ åŠŸèƒ½æ¦‚è¿°")
print("-" * 100)
print("1. åœ¨é”šç‚¹ç³»ç»Ÿé¡µé¢æ·»åŠ è®¡æ¬¡æ•°é‡æ˜¾ç¤ºæ¡†")
print("2. åˆ›å»º15åˆ†é’Ÿè®¡æ¬¡ç›‘æ§è„šæœ¬")
print("3. é—´éš”3ä¸ª15åˆ†é’Ÿï¼ˆ45åˆ†é’Ÿï¼‰å¦‚æœè®¡æ¬¡å¢åŠ >=2ï¼Œåˆ™å‘é€TGé¢„è­¦")
print("4. è°ƒè¯•å¹¶è§£é‡Š8:32ä¹‹åTGæ¶ˆæ¯æœªå‘é€çš„åŸå› ")

print("\n" + "=" * 100)
print("âœ… åŠŸèƒ½1ï¼šè®¡æ¬¡æ•°é‡æ˜¾ç¤ºæ¡†")
print("=" * 100)

print("\nã€ä½ç½®ã€‘")
print("é¡µé¢ï¼šhttps://5000-iawcy3xxhnan90u0qd9wq-cc2fbc16.sandbox.novita.ai/anchor-system-real")
print("ä½ç½®ï¼šç»Ÿè®¡å¡ç‰‡åŒºåŸŸï¼Œç¬¬5ä¸ªå¡ç‰‡")

print("\nã€æ ·å¼ã€‘")
print("â€¢ å›¾æ ‡ï¼šğŸ”¢")
print("â€¢ æ ‡ç­¾ï¼šå½“å‰è®¡æ¬¡")
print("â€¢ æ•°å€¼ï¼šè¶…å¤§å­—ä½“ï¼ˆ48pxï¼‰ï¼Œç²—ä½“ï¼ˆ800ï¼‰ï¼Œæ©™è‰²ï¼ˆ#b45309ï¼‰")
print("â€¢ å­æ ‡ç­¾ï¼šæœ€æ–°15åˆ†é’Ÿæ•°æ®")
print("â€¢ èƒŒæ™¯ï¼šé»„è‰²æ¸å˜ï¼ˆ#fef3c7 -> #fde68aï¼‰")
print("â€¢ è¾¹æ¡†ï¼š2px solid #f59e0bï¼ˆæ©™è‰²ï¼‰")

print("\nã€æ•°æ®æ¥æºã€‘")
print("â€¢ APIï¼š/api/latest")
print("â€¢ æ•°æ®åº“ï¼šcrypto_data.db")
print("â€¢ è¡¨ï¼šcrypto_snapshots")
print("â€¢ å­—æ®µï¼šcount")
print("â€¢ æ›´æ–°ï¼šé¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è·å–æœ€æ–°æ•°æ®")

print("\nã€å®ç°ä»£ç ã€‘")
print("æ–‡ä»¶ï¼štemplates/anchor_system_real.html")
print("""
HTML:
<div class="stat-card" style="border: 2px solid #f59e0b; background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);">
    <div class="stat-icon">ğŸ”¢</div>
    <div class="stat-label" style="color: #92400e;">å½“å‰è®¡æ¬¡</div>
    <div class="stat-value" id="currentCount" style="color: #b45309; font-size: 48px; font-weight: 800;">--</div>
    <div class="stat-subvalue" style="color: #92400e;">æœ€æ–°15åˆ†é’Ÿæ•°æ®</div>
</div>

JavaScript:
// åŠ è½½æœ€æ–°è®¡æ¬¡æ•°æ®
const countRes = await fetch('/api/latest');
const countData = await countRes.json();

if (countData && countData.count !== undefined) {
    document.getElementById('currentCount').textContent = countData.count;
    console.log('âœ… è®¡æ¬¡æ•°æ®åŠ è½½:', countData.count);
} else {
    document.getElementById('currentCount').textContent = '0';
}
""")

print("\n" + "=" * 100)
print("âœ… åŠŸèƒ½2ï¼š15åˆ†é’Ÿè®¡æ¬¡ç›‘æ§ç³»ç»Ÿ")
print("=" * 100)

print("\nã€ç›‘æ§è„šæœ¬ã€‘")
print("æ–‡ä»¶ï¼šcount_monitor.py")
print("è¿›ç¨‹ï¼šcount-monitor (PM2)")
print("çŠ¶æ€ï¼šâœ… å·²å¯åŠ¨å¹¶è¿è¡Œ")

print("\nã€ç›‘æ§é¢‘ç‡ã€‘")
print("â€¢ é‡‡æ ·é—´éš”ï¼šæ¯15åˆ†é’Ÿ")
print("â€¢ æ•°æ®æ¥æºï¼šcrypto_data.db -> crypto_snapshotsè¡¨")
print("â€¢ ä¿å­˜ä½ç½®ï¼šcount_monitor.db -> count_samplesè¡¨")

print("\nã€é¢„è­¦æ¡ä»¶ã€‘")
print("â€¢ æ£€æŸ¥å‘¨æœŸï¼š3ä¸ª15åˆ†é’Ÿï¼ˆ45åˆ†é’Ÿï¼‰")
print("â€¢ è§¦å‘æ¡ä»¶ï¼šè®¡æ¬¡å¢åŠ  >= 2")
print("â€¢ é¢„è­¦æ–¹å¼ï¼šTelegramæ¶ˆæ¯æ¨é€")

print("\nã€æ•°æ®åº“ç»“æ„ã€‘")
print("""
æ•°æ®åº“ï¼šcount_monitor.db

è¡¨1ï¼šcount_samplesï¼ˆé‡‡æ ·è®°å½•ï¼‰
  - id: ä¸»é”®
  - sample_time: é‡‡æ ·æ—¶é—´
  - count_value: è®¡æ¬¡å€¼
  - snapshot_time: å¿«ç…§æ—¶é—´
  - created_at: åˆ›å»ºæ—¶é—´

è¡¨2ï¼šcount_alertsï¼ˆé¢„è­¦è®°å½•ï¼‰
  - id: ä¸»é”®
  - alert_time: é¢„è­¦æ—¶é—´
  - count_before: 45åˆ†é’Ÿå‰çš„è®¡æ¬¡
  - count_after: å½“å‰è®¡æ¬¡
  - count_diff: è®¡æ¬¡å·®å€¼
  - message: å‘é€çš„æ¶ˆæ¯å†…å®¹
  - sent_status: å‘é€çŠ¶æ€ï¼ˆsuccess/failed/errorï¼‰
  - created_at: åˆ›å»ºæ—¶é—´
""")

print("\nã€ç›‘æ§é€»è¾‘ã€‘")
print("1. æ¯15åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡")
print("2. ä»crypto_data.dbè·å–æœ€æ–°çš„countå€¼")
print("3. å°†countå€¼ä¿å­˜åˆ°count_monitor.db")
print("4. è·å–æœ€è¿‘4æ¡é‡‡æ ·æ•°æ®ï¼ˆå½“å‰ + å‰3æ¬¡ï¼‰")
print("5. è®¡ç®—å½“å‰å€¼ä¸3ä¸ª15åˆ†é’Ÿå‰çš„å€¼çš„å·®")
print("6. å¦‚æœå·®å€¼ >= 2ï¼Œå‘é€TGé¢„è­¦")
print("7. ä¿å­˜é¢„è­¦è®°å½•åˆ°æ•°æ®åº“")

print("\nã€TGæ¶ˆæ¯æ ¼å¼ã€‘")
print("""
ğŸ”” <b>è®¡æ¬¡é¢„è­¦</b>

â° æ—¶é—´èŒƒå›´: 45åˆ†é’Ÿ
ğŸ“Š 45åˆ†é’Ÿå‰: {before_count}
ğŸ“Š å½“å‰è®¡æ¬¡: {current_count}
ğŸ“ˆ å¢åŠ æ•°é‡: +{count_diff}

âš ï¸ <b>é¢„è­¦åŸå› :</b> 3ä¸ª15åˆ†é’Ÿå†…è®¡æ¬¡å¢åŠ â‰¥2

ğŸ• å¼€å§‹æ—¶é—´: {before_time}
ğŸ• ç»“æŸæ—¶é—´: {current_time}

ğŸ’¡ å»ºè®®: å…³æ³¨å¸‚åœºæ³¢åŠ¨ï¼Œæ³¨æ„é£é™©
""")

print("\nã€è¿è¡Œæ—¥å¿—ç¤ºä¾‹ã€‘")
print("""
âœ… è®¡æ¬¡ç›‘æ§ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ
ğŸ“Š ç›‘æ§é¢‘ç‡: æ¯15åˆ†é’Ÿ
ğŸ”” é¢„è­¦æ¡ä»¶: 3ä¸ª15åˆ†é’Ÿå†…è®¡æ¬¡å¢åŠ >=2
ğŸ“± TGç¾¤ç»„: -1003227444260

================================================================================
ğŸ”„ å¼€å§‹è®¡æ¬¡ç›‘æ§ - 2025-12-30 10:08:13
================================================================================
ğŸ“Š è·å–æœ€æ–°è®¡æ¬¡: 3 (æ—¶é—´: 2025-12-30 10:00:00)
âœ… é‡‡æ ·æ•°æ®å·²ä¿å­˜: è®¡æ¬¡=3, æ—¶é—´=2025-12-30 10:08:13
â„¹ï¸ é‡‡æ ·æ•°æ®ä¸è¶³ï¼ˆå½“å‰3æ¡ï¼Œéœ€è¦4æ¡ï¼‰ï¼Œæš‚ä¸æ£€æŸ¥é¢„è­¦

âœ… æœ¬æ¬¡ç›‘æ§å®Œæˆ

â° ä¸‹æ¬¡è¿è¡Œæ—¶é—´: 2025-12-30 10:23:13
ğŸ’¤ ä¼‘çœ  900 ç§’...
""")

print("\n" + "=" * 100)
print("âœ… åŠŸèƒ½3ï¼šTGé¢„è­¦é›†æˆ")
print("=" * 100)

print("\nã€Telegramé…ç½®ã€‘")
print("â€¢ Bot Token: 8437045462:AAFePnwdC21cqeWhZISMQHGGgjmroVqE2H0")
print("â€¢ Chat ID: -1003227444260")
print("â€¢ Parse Mode: HTML")

print("\nã€é¢„è­¦è§¦å‘æµç¨‹ã€‘")
print("1. æ£€æŸ¥é‡‡æ ·æ•°æ®æ˜¯å¦è¶³å¤Ÿï¼ˆè‡³å°‘4æ¡ï¼‰")
print("2. è®¡ç®—45åˆ†é’Ÿå†…çš„è®¡æ¬¡å·®å€¼")
print("3. å¦‚æœå·®å€¼ >= 2ï¼Œè§¦å‘é¢„è­¦")
print("4. æ„å»ºHTMLæ ¼å¼çš„TGæ¶ˆæ¯")
print("5. è°ƒç”¨Telegram Bot APIå‘é€æ¶ˆæ¯")
print("6. ä¿å­˜å‘é€ç»“æœåˆ°æ•°æ®åº“")

print("\nã€é¢„è­¦ç¤ºä¾‹ã€‘")
print("åœºæ™¯1ï¼šè®¡æ¬¡ä»1å¢åŠ åˆ°3")
print("  â€¢ 45åˆ†é’Ÿå‰ï¼šè®¡æ¬¡=1")
print("  â€¢ å½“å‰ï¼šè®¡æ¬¡=3")
print("  â€¢ å·®å€¼ï¼š+2")
print("  â€¢ ç»“æœï¼šâœ… è§¦å‘é¢„è­¦ï¼Œå‘é€TGæ¶ˆæ¯")

print("\nåœºæ™¯2ï¼šè®¡æ¬¡ä»5å¢åŠ åˆ°6")
print("  â€¢ 45åˆ†é’Ÿå‰ï¼šè®¡æ¬¡=5")
print("  â€¢ å½“å‰ï¼šè®¡æ¬¡=6")
print("  â€¢ å·®å€¼ï¼š+1")
print("  â€¢ ç»“æœï¼šâŒ æœªè§¦å‘é¢„è­¦ï¼ˆå·®å€¼<2ï¼‰")

print("\nåœºæ™¯3ï¼šè®¡æ¬¡ä»2å¢åŠ åˆ°5")
print("  â€¢ 45åˆ†é’Ÿå‰ï¼šè®¡æ¬¡=2")
print("  â€¢ å½“å‰ï¼šè®¡æ¬¡=5")
print("  â€¢ å·®å€¼ï¼š+3")
print("  â€¢ ç»“æœï¼šâœ… è§¦å‘é¢„è­¦ï¼Œå‘é€TGæ¶ˆæ¯")

print("\n" + "=" * 100)
print("âœ… åŠŸèƒ½4ï¼š8:32 TGæ¶ˆæ¯è°ƒè¯•")
print("=" * 100)

print("\nã€é—®é¢˜æè¿°ã€‘")
print("ç”¨æˆ·åæ˜ 8:32ä¹‹åæ²¡æœ‰æ”¶åˆ°TGæ¶ˆæ¯")

print("\nã€è°ƒæŸ¥ç»“æœã€‘")
print("é€šè¿‡æŸ¥çœ‹PM2æ—¥å¿—ï¼ˆtelegram-notifierï¼‰ï¼Œå‘ç°ï¼š")
print("â€¢ 8:33:41 å‘é€äº†ä¸€æ¡åŒé‡æŠ„åº•ä¿¡å·ï¼ˆMessage ID: 4311ï¼‰")
print("â€¢ 8:32å‰åçš„å…¶ä»–æ—¶é—´ï¼šå¸ç§æ•°ä¸è¶³ï¼ˆ<8ä¸ªï¼‰ï¼Œè·³è¿‡æ¨é€")

print("\nã€8:32å‰åçš„æ—¥å¿—ã€‘")
print("""
[2025-12-30 08:32:11] ğŸ” æ£€æŸ¥æœ€æ–°ä¿¡å·...
[2025-12-30 08:32:40] ğŸ“Š æŠ„åº•ä¿¡å·å¸ç§æ•°ä¸è¶³ (2 < 8ï¼Œæ”¯æ’‘1: 2ä¸ª, æ”¯æ’‘2: 0ä¸ª)ï¼Œè·³è¿‡æ¨é€

[2025-12-30 08:33:10] ğŸ” æ£€æŸ¥æœ€æ–°ä¿¡å·...
[2025-12-30 08:33:41] ğŸŸ¢ğŸŸ¢ æ£€æµ‹åˆ°åŒé‡æŠ„åº•ä¿¡å·ï¼ˆæ”¯æ’‘1+2ï¼‰: 1ä¸ªå¸ç§
[2025-12-30 08:33:41] âœ… æ¶ˆæ¯å‘é€æˆåŠŸ (Message ID: 4311)
[2025-12-30 08:33:41] ğŸ“Š æŠ„åº•ä¿¡å·å¸ç§æ•°ä¸è¶³ (3 < 8ï¼Œæ”¯æ’‘1: 2ä¸ª, æ”¯æ’‘2: 1ä¸ª)ï¼Œè·³è¿‡æ¨é€

[2025-12-30 08:34:11] ğŸ” æ£€æŸ¥æœ€æ–°ä¿¡å·...
[2025-12-30 08:34:41] â³ åŒé‡æŠ„åº•ä¿¡å·å†·å´ä¸­ (è¿˜éœ€ç­‰å¾… 240ç§’)
[2025-12-30 08:34:41] â³ åŒé‡æŠ„åº•ä¿¡å·åœ¨å†·å´æœŸï¼Œè·³è¿‡æ¨é€
""")

print("\nã€ç»“è®ºã€‘")
print("âœ… TGç³»ç»Ÿæ­£å¸¸è¿è¡Œ")
print("âœ… 8:33:41 æˆåŠŸå‘é€äº†åŒé‡æŠ„åº•ä¿¡å·")
print("âœ… å…¶ä»–æ—¶é—´æœªå‘é€æ˜¯å› ä¸ºè§¦å‘æ¡ä»¶ä¸æ»¡è¶³ï¼š")
print("   â€¢ æŠ„åº•/é€ƒé¡¶ä¿¡å·éœ€è¦ >= 8ä¸ªå¸ç§")
print("   â€¢ åŒé‡ä¿¡å·æœ‰å†·å´æ—¶é—´ï¼ˆ5åˆ†é’Ÿï¼‰")
print("   â€¢ ç¬¦åˆç³»ç»Ÿè®¾è®¡é€»è¾‘")

print("\nã€TGæ¨é€è§„åˆ™ã€‘")
print("1. æŠ„åº•ä¿¡å·ï¼šæ”¯æ’‘1 + æ”¯æ’‘2 >= 8ä¸ªå¸ç§")
print("2. é€ƒé¡¶ä¿¡å·ï¼šå‹åŠ›1 + å‹åŠ›2 >= 8ä¸ªå¸ç§")
print("3. åŒé‡ä¿¡å·ï¼šæ”¯æ’‘1+2 æˆ– å‹åŠ›1+2 é‡å çš„å¸ç§")
print("4. å†·å´æ—¶é—´ï¼šåŒé‡ä¿¡å·å‘é€å5åˆ†é’Ÿå†…ä¸é‡å¤æ¨é€")

print("\n" + "=" * 100)
print("ğŸ“Š ç³»ç»ŸçŠ¶æ€æ€»ç»“")
print("=" * 100)

print("\nã€PM2è¿›ç¨‹åˆ—è¡¨ã€‘")
print("â€¢ flask-app: âœ… è¿è¡Œä¸­")
print("â€¢ telegram-notifier: âœ… è¿è¡Œä¸­ï¼ˆå·²è¿è¡Œ5å¤©ï¼‰")
print("â€¢ count-monitor: âœ… è¿è¡Œä¸­ï¼ˆæ–°å¢ï¼‰")
print("â€¢ å…¶ä»–collector: âœ… æ­£å¸¸è¿è¡Œ")

print("\nã€æ•°æ®åº“ã€‘")
print("â€¢ crypto_data.db: âœ… ä¸»æ•°æ®åº“ï¼ŒåŒ…å«crypto_snapshotsè¡¨")
print("â€¢ count_monitor.db: âœ… ç›‘æ§æ•°æ®åº“ï¼ˆæ–°å»ºï¼‰")
print("â€¢ tg_signals.db: âœ… TGä¿¡å·æ•°æ®åº“")

print("\nã€APIç«¯ç‚¹ã€‘")
print("â€¢ /api/latest: âœ… è·å–æœ€æ–°æ•°æ®ï¼ˆåŒ…å«è®¡æ¬¡ï¼‰")
print("â€¢ /api/anchor-system/*: âœ… é”šç‚¹ç³»ç»ŸAPI")
print("â€¢ /api/support-resistance/*: âœ… æ”¯æ’‘å‹åŠ›çº¿API")

print("\n" + "=" * 100)
print("ğŸ¯ ä½¿ç”¨æŒ‡å—")
print("=" * 100)

print("\nã€æŸ¥çœ‹è®¡æ¬¡æ˜¾ç¤ºã€‘")
print("1. è®¿é—®ï¼šhttps://5000-iawcy3xxhnan90u0qd9wq-cc2fbc16.sandbox.novita.ai/anchor-system-real")
print("2. æŸ¥çœ‹ç»Ÿè®¡å¡ç‰‡åŒºåŸŸçš„ç¬¬5ä¸ªå¡ç‰‡ï¼ˆæ©™è‰²èƒŒæ™¯ï¼‰")
print("3. æ˜¾ç¤ºå½“å‰è®¡æ¬¡æ•°å€¼")

print("\nã€ç›‘æ§è®¡æ¬¡é¢„è­¦ã€‘")
print("1. ç³»ç»Ÿæ¯15åˆ†é’Ÿè‡ªåŠ¨é‡‡æ ·")
print("2. å½“45åˆ†é’Ÿå†…è®¡æ¬¡å¢åŠ >=2æ—¶ï¼Œè‡ªåŠ¨å‘é€TGæ¶ˆæ¯")
print("3. æ— éœ€æ‰‹åŠ¨æ“ä½œ")

print("\nã€æŸ¥çœ‹ç›‘æ§æ—¥å¿—ã€‘")
print("å‘½ä»¤ï¼špm2 logs count-monitor")
print("æŸ¥çœ‹å®æ—¶æ—¥å¿—ï¼ŒåŒ…æ‹¬ï¼š")
print("  â€¢ é‡‡æ ·æ—¶é—´å’Œè®¡æ¬¡å€¼")
print("  â€¢ é¢„è­¦æ£€æŸ¥ç»“æœ")
print("  â€¢ TGæ¶ˆæ¯å‘é€çŠ¶æ€")

print("\nã€æŸ¥çœ‹TGæ¶ˆæ¯æ—¥å¿—ã€‘")
print("å‘½ä»¤ï¼špm2 logs telegram-notifier")
print("æŸ¥çœ‹TGæ¨é€ç³»ç»Ÿæ—¥å¿—ï¼ŒåŒ…æ‹¬ï¼š")
print("  â€¢ ä¿¡å·æ£€æµ‹ç»“æœ")
print("  â€¢ æ¶ˆæ¯å‘é€çŠ¶æ€")
print("  â€¢ å†·å´æ—¶é—´æç¤º")

print("\nã€ç®¡ç†ç›‘æ§è¿›ç¨‹ã€‘")
print("â€¢ åœæ­¢ï¼špm2 stop count-monitor")
print("â€¢ å¯åŠ¨ï¼špm2 start count-monitor")
print("â€¢ é‡å¯ï¼špm2 restart count-monitor")
print("â€¢ åˆ é™¤ï¼špm2 delete count-monitor")

print("\n" + "=" * 100)
print("ğŸ“ Gitæäº¤")
print("=" * 100)

print("\nâ€¢ Commit: 4d5e379")
print("â€¢ Message: feat: æ·»åŠ è®¡æ¬¡ç›‘æ§æ˜¾ç¤ºæ¡†å’Œ15åˆ†é’Ÿè®¡æ¬¡é¢„è­¦ç³»ç»Ÿ")
print("â€¢ Branch: genspark_ai_developer")
print("â€¢ ä¿®æ”¹æ–‡ä»¶ï¼š")
print("  - templates/anchor_system_real.htmlï¼ˆæ–°å¢è®¡æ¬¡æ˜¾ç¤ºå¡ç‰‡ï¼‰")
print("  - count_monitor.pyï¼ˆæ–°å»ºç›‘æ§è„šæœ¬ï¼‰")

print("\n" + "=" * 100)
print("âœ… æ‰€æœ‰åŠŸèƒ½å·²å®Œæˆå¹¶ä¸Šçº¿ï¼")
print("=" * 100)
print()
print("ğŸ’¡ æç¤ºï¼š")
print("  â€¢ è®¡æ¬¡æ˜¾ç¤ºæ¡†ï¼šç«‹å³å¯è§")
print("  â€¢ è®¡æ¬¡ç›‘æ§ï¼šå·²å¯åŠ¨ï¼Œ15åˆ†é’Ÿåå¼€å§‹ç¬¬2æ¬¡é‡‡æ ·")
print("  â€¢ TGé¢„è­¦ï¼šè‡³å°‘éœ€è¦4æ¬¡é‡‡æ ·ï¼ˆ60åˆ†é’Ÿï¼‰åæ‰èƒ½è§¦å‘ç¬¬ä¸€æ¬¡é¢„è­¦")
print("  â€¢ é¦–æ¬¡é¢„è­¦æ—¶é—´ï¼šçº¦åœ¨å½“å‰æ—¶é—´ + 60åˆ†é’Ÿ")
print()
